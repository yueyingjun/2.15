<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style>
		#box{
			width: 250px;
			height: 250px;
			border: 1px saddlebrown solid;
		}
	</style>
	<body>
		<input type="button" name="点击" value="dianji"/>
		
		<div id="box">
			
		</div>
	</body>
	<script>
	
//get方式
//	window.onload=function(){
//		var btn=document.getElementsByTagName("input")[0];
//		var div=document.getElementById("box");
//		var ajax=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft,XMLHTTP");
//		
//		ajax.onreadystatechange=function(){
//			//0:请求没有发出4:请求已完成
//			if(ajax.readyState==4){
//				if(ajax.status==200){
//					btn.onclick=function(){
//						div.innerHTML=ajax.response;
//					}
//				}
//			}
//		}
//		ajax.open("get","ajax.php?name=weihaichun&age=12");
//		ajax.send();
//
//}

//post方式
//window.onload=function(){
//		var btn=document.getElementsByTagName("input")[0];
//		var div=document.getElementById("box");
//		var ajax=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft,XMLHTTP");
//		
//		ajax.onreadystatechange=function(){
//			if(ajax.readyState==4){
//				if(ajax.status==200){
//					btn.onclick=function(){
//						div.innerHTML=ajax.response;
//					}
//				}
//			}
//		}
//
//      ajax.open("POST","ajax.php");
//      ajax.setRequestHeader("Content-type","application/x-www-form-urlencoded");
//      ajax.send("name=weihaichun&age=12");
//}


	window.onload=function(){
		var btn=document.getElementsByTagName("input")[0];
		var div=document.getElementById("box");
		var ajax=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft,XMLHTTP");		
		ajax.onreadystatechange=function(){
			//0:请求没有发出4:请求已完成
			if(ajax.readyState==4){
				if(ajax.status==200){
					btn.onclick=function(){
						var ajaxobj=ajax.responseXML;//responseXMl返回值为一个document对象，转化为对象后操作对象
//						div.innerHTML=ajax.responseXML;
                        var strs=ajaxobj.getElementsByTagName("person");
//                      console.log(strs.length)
						var str="<table><tr><td>姓名</td><td>年龄</td><td>性别</td></tr>"
						for(var i=0;i<strs.length;i++){
							str+="<tr>"						
								str+="<td>"+strs[i].getElementsByTagName("name")[0].innerHTML+"</td>";
								str+="<td>"+strs[i].getElementsByTagName("age")[0].innerHTML+"</td>";
								str+="<td>"+strs[i].getElementsByTagName("sex")[0].innerHTML+"</td>";				
							str+="</tr>"							
						}
						str+="</table>"
						div.innerHTML=str;
					}
				}
			}
		}
		ajax.open("get","ajax.xml");
//		ajax.responseXML;
		ajax.send();
//		ajax.responseXML;
}		

	

	</script>
</html>
