<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<script src="ajax.js"></script>
	<style>
		div{
			width:200px;
			height: 200px;
			border: 1px solid red;
		}
	</style>
	<body>
		<div></div>
		<input type="button" value="按钮" />
	</body>
	<script>
	//get
//		window.onload=function(){
//			var btn=document.getElementsByTagName("input")[0];
//			var div=document.getElementsByTagName("div")[0];
//			btn.onclick=function(){
//				var xmlobj=new window.XMLHttpRequest();
//				xmlobj.onload=function(){
//					div.innerHTML=xmlobj.response;
//				}
//				xmlobj.open("get","1.php?name=zhangyuhui&mima=12345");
//				xmlobj.send();
//			}
//			
//		}

	//post
//		window.onload=function(){
//			var btn=document.getElementsByTagName("input")[0];
//			var div=document.getElementsByTagName("div")[0];
//			btn.onclick=function(){
//				var xmlobj=new window.XMLHttpRequest();
//				xmlobj.onload=function(){
//					var dt=xmlobj.response;
//					console.log(dt.getElementsByTagName("html")[0])
//					
////					div.innerHTML=drr;
//				}
//				xmlobj.open("post","1.php");
//				xmlobj.responseType="document";
//				xmlobj.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
//				xmlobj.send("name=zhangyuhui&mima=12345");
//			}
//		}


	//xml
//	window.onload=function(){
//		var btn=document.getElementsByTagName("input")[0];
//		var div=document.getElementsByTagName("div")[0];
//		btn.onclick=function(){
//			var xmlobj=new window.XMLHttpRequest();
//			xmlobj.onload=function(){
//				var content=xmlobj.responseXML;
//				var stus=content.getElementsByTagName("stu");
//				var str="<table><tr><th>姓名</th><th>性别</th><th>年龄</th></tr>"
//				for(var i=0;i<stus.length;i++){
//					str+="<tr>"
//						str+="<td>"+content.getElementsByTagName('name')[i].innerHTML+"</td>"
//						str+="<td>"+content.getElementsByTagName('sex')[i].innerHTML+"</td>"
//						str+="<td>"+content.getElementsByTagName('age')[i].innerHTML+"</td>"
//					str+="</tr>"
//				}
//				str+="</table>"
//				div.innerHTML=str;
//			}
//			xmlobj.open("post","1.xml");
//			xmlobj.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
//			xmlobj.send();
//		}
//	}


	//ajax测试xml类型
	
	window.onload=function(){
		var btn=document.getElementsByTagName("input")[0];
		var div=document.getElementsByTagName("div")[0];
		btn.onclick=function(){
			ajax({
				url:"1.xml",
				type:"post",
				dataType:"xml",
				success:function(dt){
					var stus=dt.getElementsByTagName("stu");
					var str="<table><tr><th>姓名</th><th>性别</th><th>年龄</th></tr>"
					for(var i=0;i<stus.length;i++){
						str+="<tr>"
							str+="<td>"+dt.getElementsByTagName('name')[i].innerHTML+"</td>"
							str+="<td>"+dt.getElementsByTagName('sex')[i].innerHTML+"</td>"
							str+="<td>"+dt.getElementsByTagName('age')[i].innerHTML+"</td>"
						str+="</tr>"
					}
					str+="</table>"
					div.innerHTML=str;
				}
			})
		}
	}
	</script>
</html>
