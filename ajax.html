<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>

<script>
	
 function ajax(obj){
    var url=obj.url;
	var method=obj.method||"get";
	var getType=obj.getType||"text";
	var data="";
	var success=obj.success;

    var tpof=typeof(obj.data)
	if(tpof=="string"){data=obj.data;} 
	if(tpof=="object"){
		for(var i in obj.data){
            data=i"="obj.data[i]"&";
        }
        data=data.slice(0,-1);
	}

	    var ajax=window.XMLHttpRequest? new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");
	    if(method=="get"){
	 		ajax.open("get",url"?"data);
			ajax.send(null);  
	    }else if(method=="post"){
			ajax.open("post",url);
			ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
			ajax.send(data);
		}



		ajax.onreadystatechange=function(){
			if(ajax.readyState==4){
				if(ajax.status==200){
					var result;
					if(getType=="text"){result=ajax.responseText;}
					if(getType=="json"){result=eval("("ajax.response")");}
					if(getType=="xml"){result=ajax.responseXML;}
					if(getType=="document"){result=ajax.response;}
					if(success){
						success(result);
					}
				}else if(ajax.status==404){
					alert("页面没有找到");
				}else{
					alert("获取错误");
				}
			}
		}
	} 















</script>






<body>
	
</body>
</html>